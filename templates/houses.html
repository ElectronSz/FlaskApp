<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="{{ url_for('static', filename='bootstrap.min.css') }}">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<title>Houses</title>
</head>

<body>
	<div class="container" id="app">

		<div class="mt-4"><a class="btn btn-success" href="{{ url_for('.add_house_view') }}"> Add House </a></div>
		<div class="mt-3">
			
			<hr>
		</div>
	</div>

	<form>
		<script src="https://api.ravepay.co/flwv3-pug/getpaidx/api/flwpbf-inline.js"></script>
		<button type="button" onClick="payWithRave()">Pay Now</button>
	</form>
	
	<script>
		const API_publicKey = "FLWPUBK-d1d9b3fc70dce440f47f0e0cca010126-X";
	
		function payWithRave() {
			var x = getpaidSetup({
				PBFPubKey: API_publicKey,
				customer_email: "user@example.com",
				amount: 400,
				customer_phone: "234099940409",
				currency: "NGN",
				txref: "rave-123456",
				meta: [{
					metaname: "flightID",
					metavalue: "AP1234"
				}],
				onclose: function() {},
				callback: function(response) {
					var txref = response.tx.txRef; // collect txRef returned and pass to a 					server page to complete status check.
					console.log("This is the response returned after a charge", response);
					if (
						response.tx.chargeResponseCode == "00" ||
						response.tx.chargeResponseCode == "0"
					) {
						// redirect to a success page
					} else {
						// redirect to a failure page.
					}
	
					x.close(); // use this to close the modal immediately after payment.
				}
			});
		}
	</script>
	  
	 
	<!-- Vue -->
<script src="https://unpkg.com/vue/dist/vue.js"></script>
<!-- Vue-Rave -->
<script src="https://unpkg.com/vue-ravepayment/dist/rave.min.js"></script>
<!-- <script src="{{ url_for('static', filename='rave.js') }}"></script> -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
</body>

</html>